/*! declare.js - v0.0.8 - 2018-10-22
* Copyright (c) 2018 Doug Martin (doug@dougamartin.com); Licensed MIT */

!function(){function t(){var h,r=Array.prototype.slice,y=0,g=new Function,e=/(super)/g;function m(t,e){return e=e||0,r.call(t,e)}function v(t){return"[object Array]"===Object.prototype.toString.call(t)}function d(t){var e;return null!=(e=t)&&"object"==typeof e&&t.constructor===Object}var c=function(t){return"[object Arguments]"===Object.prototype.toString.call(t)};function _(t,e){if(t&&t.length)for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function b(t,e,r){var n,s;for(n in e)e.hasOwnProperty(n)&&-1===_(r,n)&&(s=e[n],n in t&&t[n]===s||(t[n]=s));return t}function w(t,e){var r=this.__meta,n=r.supers,s=n.length,o=r.superMeta,i=o.pos;if(i<s){t=t?c(t)||v(t)?t:[t]:[];var _,a=o.name,u=o.f;do{if("function"==typeof(_=n[i][a])&&(_=_._f||_)!==u)return o.pos=1+i,_.apply(this,t)}while(s>++i)}return null}function O(){var t=this.__meta,e=t.supers,r=e.length,n=t.superMeta,s=n.pos;if(s<r){var o,i=n.name,_=n.f;do{if("function"==typeof(o=e[s][i])&&(o=o._f||o)!==_)return n.pos=1+s,o.bind(this)}while(r>++s)}return null}function t(t){var e=this.__getters__;return e.hasOwnProperty(t)?e[t].apply(this):this[t]}function n(t,e){var r=this.__setters__;if(!d(t))return r.hasOwnProperty(t)?r[t].apply(this,m(arguments,1)):this[t]=e;for(var n in t){var s=t[n];r.hasOwnProperty(n)?r[t].call(this,s):this[n]=s}}function P(){var t=this.__meta||{},e=t.supers,r=e.length,n=t.superMeta,s=n.pos;if(s<r){var o,i=n.name,_=n.f;do{if("function"==typeof(o=e[s][i])&&(o=o._f||o)!==_)return n.pos=1+s,o.apply(this,arguments)}while(r>++s)}return null}function k(n,s){if(n.toString().match(e)){var t=function(){var t,e=this.__meta||{},r=e.superMeta;switch(e.superMeta={f:n,pos:0,name:s},arguments.length){case 0:t=n.call(this);break;case 1:t=n.call(this,arguments[0]);break;case 2:t=n.call(this,arguments[0],arguments[1]);break;case 3:t=n.call(this,arguments[0],arguments[1],arguments[2]);break;default:t=n.apply(this,arguments)}return e.superMeta=r,t};return t._f=n,t}return n._f=n}function M(t,e){var r=e.setters||{},n=t.__setters__,s=t.__getters__;for(var o in r)n.hasOwnProperty(o)||(n[o]=r[o]);for(o in r=e.getters||{})s.hasOwnProperty(o)||(s[o]=r[o]);for(var i in e)if("getters"!==i&&"setters"!==i){var _=e[i];"function"==typeof _?t.hasOwnProperty(i)||(t[i]=k(P,i)):t[i]=_}}function j(){for(var t=m(arguments),e=t.length,r=this.prototype,n=r.__meta,s=this.__meta,o=r.__meta.bases,i=o.slice(),_=s.supers||[],a=n.supers||[],u=0;u<e;u++){var c=t[u],p=c.prototype,f=p.__meta,l=c.__meta;!f&&(f=p.__meta={proto:p||{}}),!l&&(l=c.__meta={proto:c.__proto__||{}}),M(r,f.proto||{}),M(this,l.proto||{}),x(c.prototype,a,o),x(c,_,i)}return this}function x(t,e,r){var n=t.__meta;!n&&(n=t.__meta={});var s=t.__meta.unique;if(!s&&(n.unique="declare"+ ++y),-1===_(r,s)){r.push(s);for(var o=t.__meta.supers||[],i=o.length-1||0;0<=i;)x(o[i--],e,r);e.unshift(t)}}function S(t,e){var r=e.setters,n=t.__setters__,s=t.__getters__;if(r)for(var o in r)n[o]=r[o];if(r=e.getters||{})for(o in r)s[o]=r[o];for(o in e)if("getters"!=o&&"setters"!=o){var i=e[o];if("function"==typeof i)(i.__meta||{}).isConstructor?t[o]=i:t[o]=k(i,o);else t[o]=i}}function s(t,e,r){var n={},s=[],o="declare"+ ++y,i=[],_=[],a=[],u=[],c={supers:a,unique:o,bases:i,superMeta:{f:null,pos:0,name:null}},p={supers:u,unique:o,bases:_,isConstructor:!0,superMeta:{f:null,pos:0,name:null}};if(d(e)&&!r&&(r=e,e=h),"function"==typeof e||v(e)?(e=(s=v(e)?e:[e]).shift(),t.__meta=p,(n=function(t){g.prototype=t.prototype;var e=new g;return g.prototype=null,e}(e)).__meta=c,n.__getters__=b({},n.__getters__||{}),n.__setters__=b({},n.__setters__||{}),t.__getters__=b({},t.__getters__||{}),t.__setters__=b({},t.__setters__||{}),x(e.prototype,a,i),x(e,u,_)):(t.__meta=p,n.__meta=c,n.__getters__=n.__getters__||{},n.__setters__=n.__setters__||{},t.__getters__=t.__getters__||{},t.__setters__=t.__setters__||{}),t.prototype=n,r){var f=c.proto=r.instance||{},l=p.proto=r.static||{};l.init=l.init||P,S(n,f),S(t,l),f.hasOwnProperty("constructor")?n.constructor=k(f.constructor,"constructor"):n.constructor=f.constructor=k(P,"constructor")}else c.proto={},p.proto={},t.init=k(P,"init"),n.constructor=k(P,"constructor");s.length&&j.apply(t,s),e&&b(t,b(b({},e),t)),n._super=t._super=w,n._getSuper=t._getSuper=O,n._static=t}function o(t,e){function r(){switch(arguments.length){case 0:this.constructor.call(this);break;case 1:this.constructor.call(this,arguments[0]);break;case 2:this.constructor.call(this,arguments[0],arguments[1]);break;case 3:this.constructor.call(this,arguments[0],arguments[1],arguments[2]);break;default:this.constructor.apply(this,arguments)}}return s(r,t,e),r.init()||r}return c(arguments)||(c=function(t){return!(!t||!t.hasOwnProperty("callee"))}),h=o({instance:{get:t,set:n},static:{get:t,set:n,mixin:j,extend:function(t){return o(this,t)},as:function(t,e){return t&&e?t[e]=this:t.exports=t=this,this}}}),o.singleton=function(t,e){var r;function n(){return r||(this.constructor.apply(this,arguments),r=this),r}return s(n,t,e),n.init()||n},o}"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=t()):"function"==typeof define&&define.amd?define(t):this.declare=t()}();